<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>My Cycle Keeper</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>

<!-- EmailJS v4 (NEW) -->
<script type="text/javascript"
  src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js">
</script>
<script type="text/javascript">
  (function() {
    emailjs.init({ publicKey: "uSswXX25MX1woKVBE" }); // your public key
  })();
</script>

<style>
  body { font-family: 'Inter', sans-serif; background-color: #f7e9f3; color: #4a5568; display: flex; justify-content: center; align-items: center; min-height: 100vh; padding: 1rem; }
  .container { max-width: 48rem; width: 100%; background-color: white; border-radius: 1.5rem; box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1),0 4px 6px -2px rgba(0,0,0,0.05); padding: 2rem; }
  .screen { display: none; animation: fadeIn 0.5s ease-in-out; }
  .screen.active { display: block; }
  .input-group input { border: 2px solid #e2e8f0; border-radius: 0.75rem; padding: 0.75rem 1rem; width: 100%; transition: all 0.2s ease-in-out; }
  .input-group input:focus { outline: none; border-color: #f687b3; box-shadow: 0 0 0 3px rgba(246,135,179,0.5); }
  .btn { background-color: #f687b3; color: white; font-weight: 600; padding: 0.75rem 1.5rem; border-radius: 0.75rem; transition: all 0.2s ease-in-out; }
  .btn:hover { background-color: #f7a9d0; }
  .ai-btn { background-color: #a78bfa; color: white; font-weight: 600; padding: 0.75rem 1.5rem; border-radius: 0.75rem; }
  .ai-btn:hover { background-color: #c4b5fd; }
  .card { border-radius: 1.5rem; padding: 1.5rem; background-color: #fff1f5; }
  .ai-card { background-color: #f3e8ff; }
  .day-details-card { background-color: #e2e8f0; color: #4a5568; }
  .dashboard-grid { display: grid; gap: 1rem; grid-template-columns: 1fr; }
  @media (min-width:768px){.dashboard-grid{grid-template-columns:repeat(2,1fr);} }
  .full-width{grid-column:1/-1;}
  .calendar-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:1rem; }
  .calendar-grid { display:grid; grid-template-columns:repeat(7,1fr); gap:0.5rem; text-align:center; }
  .calendar-day, .calendar-day-name { padding:0.75rem 0; border-radius:9999px; font-weight:500; transition: all 0.2s; cursor:pointer; }
  .calendar-day-name { font-weight:700; color:#cbd5e0; cursor:default; }
  .calendar-day:not(.day-empty):hover { background:#f1f1f1; }
  .day-expected-flow { background-color: #fbb6c4; color:white; }
  .day-next-cycle { background-color: #ffde59; color:#333; font-weight:bold; box-shadow:0 0 0 2px #f687b3,0 0 0 4px #ffde59; }
  .day-ovulating { background-color:#ff914d; color:white; }
  .day-selected { background-color:#f687b3; color:white; box-shadow:0 0 0 2px #f687b3; }
  .day-selected.day-expected-flow { background-color:#d64d7c; }
  .day-selected.day-ovulating { background-color:#e76f4b; }
  .day-selected.day-next-cycle { background-color:#e4be42; }
  .day-last-period-start { background-color:#9333ea; color:white; font-weight:bold; }
  .day-last-period-start.day-selected { background-color:#7e22ce; }
  .hidden { display:none; }
  .loader{border:4px solid #f3f3f3;border-radius:50%;border-top:4px solid #f687b3;width:24px;height:24px;animation:spin 1s linear infinite;}
  @keyframes spin{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);} }
  @keyframes fadeIn{from{opacity:0;transform:translateY(10px);}to{opacity:1;transform:translateY(0);} }
</style>
</head>
<body>

<div class="container mx-auto p-6 lg:p-12">

  <!-- Splash Screen -->
  <div id="splash-screen" class="screen active text-center">
    <h1 class="text-4xl font-extrabold mb-4 text-pink-500">MY CYCLE KEEPER</h1>
    <p class="text-gray-600 mb-8">As we open our app...</p>
    <button id="start-btn" class="btn">Get Started</button>
  </div>

  <!-- Onboarding/User Input Screen -->
  <div id="onboarding-screen" class="screen">
    <div class="grid md:grid-cols-2 gap-6">
      <div class="card p-6 flex flex-col justify-between">
        <h2 class="text-2xl font-bold mb-4">Your Name:</h2>
        <h2 class="text-2xl font-bold mb-4">Your Age:</h2>
        <h2 class="text-2xl font-bold mb-4">Registered No:</h2>
        <h2 class="text-2xl font-bold mb-4">Email:</h2>
        <h2 class="text-2xl font-bold mb-4">Your Weight:</h2>
        <h2 class="text-2xl font-bold mb-4">Do you have PCOS?</h2>
      </div>
      <div class="card p-6 flex flex-col justify-between">
        <form id="onboarding-form" class="space-y-4">
          <div class="input-group"><input type="text" id="name" name="name" required placeholder="Your name" class="w-full"></div>
          <div class="input-group"><input type="number" id="age" name="age" required placeholder="Your age" class="w-full"></div>
          <div class="input-group"><input type="text" id="reg-no" name="reg-no" required placeholder="Registered number" class="w-full"></div>
          <div class="input-group"><input type="email" id="email" name="email" required placeholder="Your email" class="w-full"></div>
          <div class="input-group"><input type="number" id="weight" name="weight" required placeholder="Your weight" class="w-full"></div>
          <div class="input-group">
            <div class="flex items-center space-x-4">
              <label class="flex items-center"><input type="radio" name="pcos" value="yes" class="form-radio text-pink-500" required><span class="ml-2 text-gray-700">Yes</span></label>
              <label class="flex items-center"><input type="radio" name="pcos" value="no" class="form-radio text-pink-500" required checked><span class="ml-2 text-gray-700">No</span></label>
            </div>
          </div>
          <button type="submit" class="btn w-full flex items-center justify-center gap-2">
            <span>Submit</span>
            <span id="submit-loader" class="loader hidden"></span>
          </button>
        </form>
      </div>
    </div>
  </div>

  <!-- Dashboard Screen -->
  <div id="dashboard-screen" class="screen">
    <div class="dashboard-grid">

      <!-- Welcome & Cycle Info -->
      <div class="card p-6 text-center md:text-left">
        <h2 class="text-xl font-extrabold text-pink-500">
          WELCOME, <span id="welcome-name">{{user_name}}</span>!
        </h2>
        <p class="text-lg text-gray-600">I'm your keeper SAKHI üòä</p>
        <div class="mt-4 text-left">
          <p class="mb-2">Your next cycle's expected date: <span id="next-cycle-date" class="font-bold">--</span></p>
          <p class="mb-2">Your next expected ovulation day: <span id="ovulation-date" class="font-bold">--</span></p>
          <p class="mb-2">Your age: <span id="user-age" class="font-bold">--</span></p>
          <p>Your weight: <span id="user-weight" class="font-bold">--</span></p>
        </div>
      </div>

      <!-- Calendar Section -->
      <div class="card bg-white p-6 md:col-span-1">
        <div class="calendar-header mb-4">
          <button id="prev-month" class="bg-gray-200 text-gray-600 p-2 rounded-full hover:bg-gray-300">&lt;</button>
          <h3 id="month-year" class="text-xl font-bold text-gray-800"></h3>
          <button id="next-month" class="bg-gray-200 text-gray-600 p-2 rounded-full hover:bg-gray-300">&gt;</button>
        </div>
        <div id="calendar-grid" class="calendar-grid"></div>
      </div>

      <!-- Day Details Card -->
      <div id="day-details-card" class="card day-details-card full-width hidden">
        <h3 class="text-lg font-bold text-gray-800 mb-2">Details for <span id="selected-date-display"></span></h3>
        <p id="day-status" class="mb-4 text-gray-600">
          <span id="day-status-text">Select a date from the calendar to see details.</span>
        </p>
        <button id="set-period-start-btn" class="btn">Set as Last Period Start</button>
      </div>

      <!-- Diet & Exercise -->
      <div class="card full-width flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4">
        <div class="flex-1">
          <h3 class="text-lg font-bold text-pink-700">What to Eat to Feel Better</h3>
          <p class="mt-2 text-sm text-gray-600">A balanced diet can help manage symptoms and boost energy. Focus on these foods:</p>
          <ul class="list-disc list-inside mt-2 text-sm text-gray-600 space-y-1">
            <li><span class="font-semibold">Leafy Greens:</span> Spinach and kale are rich in iron.</li>
            <li><span class="font-semibold">Hydrating Fruits:</span> Watermelon and cucumber can help with water retention.</li>
            <li><span class="font-semibold">Healthy Fats:</span> Avocados and nuts provide essential fatty acids.</li>
            <li><span class="font-semibold">Ginger & Turmeric:</span> Natural anti-inflammatory spices.</li>
            <li><span class="font-semibold">Dark Chocolate:</span> Magnesium and iron boost.</li>
          </ul>
        </div>
        <div class="flex-1">
          <h3 class="text-lg font-bold text-pink-700">Exercises for Cramp Relief</h3>
          <p class="mt-2 text-sm text-gray-600">Gentle movement can help relieve cramps:</p>
          <ul class="list-disc list-inside mt-2 text-sm text-gray-600 space-y-1">
            <li><span class="font-semibold">Light Stretching:</span> Release tension in back and abdomen.</li>
            <li><span class="font-semibold">Yoga:</span> Child's Pose, Cat-Cow, Bound Angle Pose.</li>
            <li><span class="font-semibold">Walking:</span> Boost endorphins and reduce pain.</li>
            <li><span class="font-semibold">Pilates:</span> Improve blood flow to pelvic area.</li>
          </ul>
        </div>
      </div>

      <!-- PCOS Info -->
      <div id="pcos-causes-card" class="card full-width hidden">
        <h3 class="text-lg font-bold text-pink-700 mb-2">PCOS and PCOD Causes</h3>
        <p class="mt-2 text-sm text-gray-600">Factors that may contribute:</p>
        <ul class="list-disc list-inside mt-2 text-sm text-gray-600 space-y-1">
          <li><span class="font-semibold">Insulin Resistance:</span> Cells do not respond well to insulin.</li>
          <li><span class="font-semibold">Genetic Factors:</span> Often runs in families.</li>
          <li><span class="font-semibold">Inflammation:</span> Can stimulate androgen production.</li>
          <li><span class="font-semibold">Excess Androgen:</span> Can prevent ovulation.</li>
        </ul>
      </div>

      <!-- PCOS Management -->
      <div class="card full-width">
        <h3 class="text-lg font-bold text-pink-700 mb-2">How to Manage PCOS & PCOD</h3>
        <p class="mt-2 text-sm text-gray-600">Lifestyle changes that help:</p>
        <ul class="list-disc list-inside mt-2 text-sm text-gray-600 space-y-1">
          <li><span class="font-semibold">Balanced Diet:</span> Whole foods, lean proteins, complex carbs.</li>
          <li><span class="font-semibold">Regular Exercise:</span> Walking, yoga, or strength training.</li>
          <li><span class="font-semibold">Stress Management:</span> Meditation, deep breathing, sleep.</li>
          <li><span class="font-semibold">Maintain a Healthy Weight:</span> Small reductions improve symptoms.</li>
        </ul>
        <p class="mt-4 text-xs italic text-gray-500">
          Disclaimer: Educational purposes only. Consult a healthcare professional.
        </p>
      </div>

      <!-- AI Assistant -->
      <div class="card ai-card full-width">
        <h3 class="text-lg font-bold text-purple-700 mb-4">‚ú® AI Assistant</h3>
        <div id="ai-response-area" class="bg-purple-50 p-4 rounded-xl mb-4 text-sm text-purple-800 min-h-[50px] flex items-center">
          <p class="italic text-purple-600">I'm here to help! Ask me anything about your cycle or wellness.</p>
        </div>
        <div class="flex space-x-2 mb-4">
          <input type="text" id="user-input" placeholder="Ask a question..." class="flex-grow rounded-lg border px-4 py-2">
          <button id="ask-btn" class="ai-btn px-4 py-2">Ask</button>
        </div>
        <div class="flex justify-center">
          <button id="get-tip-btn" class="ai-btn w-full">‚ú® Get a Daily Wellness Tip</button>
        </div>
      </div>

      <!-- Mood Tracker (with compliments) -->
      <div class="card full-width">
        <h3 class="text-lg font-bold text-pink-700">Mood Tracker</h3>
        <p class="mt-2 text-sm text-gray-600">Log your mood and get a little boost ‚ú®</p>

        <div class="mt-3 grid md:grid-cols-3 gap-3">
          <select id="mood-select" class="border-2 rounded-xl px-3 py-2">
            <option value="">Select mood‚Ä¶</option>
            <option value="Happy">Happy üòä</option>
            <option value="Calm">Calm üòå</option>
            <option value="Energetic">Energetic ‚ö°</option>
            <option value="Tired">Tired üò¥</option>
            <option value="Cramps">Cramps ü©∏</option>
            <option value="Moody">Moody üòï</option>
            <option value="Stressed">Stressed üòµ‚Äçüí´</option>
          </select>
          <input id="mood-note" type="text" placeholder="Optional note‚Ä¶" class="border-2 rounded-xl px-3 py-2" />
          <button id="save-mood-btn" class="btn">Save Mood</button>
        </div>

        <p id="mood-compliment" class="mt-3 text-sm font-medium text-pink-700"></p>

        <div class="mt-4">
          <h4 class="font-semibold text-gray-700 mb-2">Your recent moods</h4>
          <ul id="mood-list" class="text-sm text-gray-700 space-y-1"></ul>
        </div>
      </div>

      <!-- Restart Button -->
      <div class="full-width flex justify-center mt-4">
        <button id="restart-btn" class="bg-gray-400 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded-full transition duration-300">
          Restart & Reset
        </button>
      </div>

    </div>
  </div>

</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const screens = document.querySelectorAll('.screen');
  const startBtn = document.getElementById('start-btn');
  const onboardingForm = document.getElementById('onboarding-form');
  const userAgeDisplay = document.getElementById('user-age');
  const userWeightDisplay = document.getElementById('user-weight');
  const nextCycleDateEl = document.getElementById('next-cycle-date');
  const ovulationDateEl = document.getElementById('ovulation-date');
  const dayDetailsCard = document.getElementById('day-details-card');
  const selectedDateDisplay = document.getElementById('selected-date-display');
  const dayStatusText = document.getElementById('day-status-text');
  const setPeriodStartBtn = document.getElementById('set-period-start-btn');
  const pcosCausesCard = document.getElementById('pcos-causes-card');
  const restartBtn = document.getElementById('restart-btn');
  const monthYearEl = document.getElementById('month-year');
  const calendarGridEl = document.getElementById('calendar-grid');
  const prevMonthBtn = document.getElementById('prev-month');
  const nextMonthBtn = document.getElementById('next-month');
  const aiResponseArea = document.getElementById('ai-response-area');
  const userInput = document.getElementById('user-input');
  const askBtn = document.getElementById('ask-btn');
  const getTipBtn = document.getElementById('get-tip-btn');
  const submitLoader = document.getElementById('submit-loader');
  const welcomeNameEl = document.getElementById('welcome-name');

  // Mood tracker elements
  const moodSelect = document.getElementById('mood-select');
  const moodNote = document.getElementById('mood-note');
  const saveMoodBtn = document.getElementById('save-mood-btn');
  const moodCompliment = document.getElementById('mood-compliment');
  const moodList = document.getElementById('mood-list');

  let currentDate = new Date();

  let userData = {
    name: '',
    age: null,
    weight: null,
    hasPCOS: false,
    lastPeriodStart: null,
    selectedDate: null,
    email: '',
    regNo: ''
  };

  // Simple in-memory mood log (kept during page session)
  const moodLogs = [];

  function showScreen(id) {
    screens.forEach(s => s.classList.remove('active'));
    document.getElementById(id).classList.add('active');
  }

  startBtn.addEventListener('click', () => showScreen('onboarding-screen'));

  onboardingForm.addEventListener('submit', async (e) => {
    e.preventDefault();
    const form = e.target;
    userData.name = form.querySelector('#name').value.trim();
    userData.age = form.querySelector('#age').value.trim();
    userData.regNo = form.querySelector('#reg-no').value.trim();
    userData.weight = form.querySelector('#weight').value.trim();
    userData.email = form.querySelector('#email').value.trim();
    userData.hasPCOS = form.querySelector('input[name="pcos"]:checked').value === 'yes';

    // Update UI & calendar
    updateDashboardInfo();
    renderCalendar();
    showScreen('dashboard-screen');

    // Personalized welcome
    welcomeNameEl.textContent = userData.name || '{{user_name}}';

    // Send Welcome Email
    submitLoader.classList.remove('hidden');
    try {
      const params = {
        user_name: userData.name,
        user_email: userData.email,
        user_age: userData.age,
        reg_no: userData.regNo,
        message: `Hello ${userData.name}, welcome to My Cycle Keeper!`,
        reply_to: userData.email
      };
      await emailjs.send('service_4iuevo5', 'template_ipx4ir7', params);
      alert('Welcome email sent successfully!');
    } catch (err) {
      console.error('Email send failed:', err);
      alert('Failed to send welcome email. Please check your EmailJS service/template IDs and template variable names.');
    } finally {
      submitLoader.classList.add('hidden');
    }
  });

  restartBtn.addEventListener('click', () => {
    userData.lastPeriodStart = null;
    userData.selectedDate = null;
    updateDashboardInfo();
    renderCalendar();
    showScreen('onboarding-screen');
  });

  setPeriodStartBtn.addEventListener('click', () => {
    if (userData.selectedDate) {
      userData.lastPeriodStart = userData.selectedDate;
      updateDashboardInfo();
      renderCalendar();
    }
  });

  function updateDashboardInfo() {
    userAgeDisplay.textContent = userData.age || '--';
    userWeightDisplay.textContent = userData.weight || '--';

    const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };

    if (userData.lastPeriodStart) {
      const nextCycleDate = new Date(userData.lastPeriodStart);
      nextCycleDate.setDate(nextCycleDate.getDate() + 28);
      nextCycleDateEl.textContent = nextCycleDate.toLocaleDateString(undefined, options);

      const ovulationDate = new Date(userData.lastPeriodStart);
      ovulationDate.setDate(ovulationDate.getDate() + 14);
      ovulationDateEl.textContent = ovulationDate.toLocaleDateString(undefined, options);
    } else {
      nextCycleDateEl.textContent = '--';
      ovulationDateEl.textContent = '--';
    }

    if (userData.hasPCOS) {
      pcosCausesCard.classList.remove('hidden');
    } else {
      pcosCausesCard.classList.add('hidden');
    }
  }

  prevMonthBtn.addEventListener('click', () => {
    currentDate.setMonth(currentDate.getMonth() - 1);
    renderCalendar();
  });

  nextMonthBtn.addEventListener('click', () => {
    currentDate.setMonth(currentDate.getMonth() + 1);
    renderCalendar();
  });

  function handleDayClick(date, cell) {
    document.querySelectorAll('.calendar-day').forEach(c => c.classList.remove('day-selected'));
    userData.selectedDate = date;
    cell.classList.add('day-selected');
    dayDetailsCard.classList.remove('hidden');

    selectedDateDisplay.textContent = date.toLocaleDateString(undefined, { year: 'numeric', month: 'long', day: 'numeric' });

    let status = 'No specific cycle event predicted for this day.';
    if (userData.lastPeriodStart) {
      const dayDiff = Math.floor((date - userData.lastPeriodStart) / (1000 * 60 * 60 * 24)) + 1;
      if (dayDiff >= 1 && dayDiff <= 5) {
        status = 'You may have your period flow on this day.';
      } else if (dayDiff >= 10 && dayDiff <= 17) {
        status = 'You are likely ovulating or in your fertile window.';
      } else {
        status = 'This is an ordinary day in your cycle.';
      }
    }
    dayStatusText.textContent = status;
  }

  function renderCalendar() {
    const year = currentDate.getFullYear();
    const month = currentDate.getMonth();

    monthYearEl.textContent = currentDate.toLocaleString('default', { month: 'long', year: 'numeric' });
    calendarGridEl.innerHTML = '';

    const dayNames = ['S', 'M', 'T', 'W', 'T', 'F', 'S'];
    dayNames.forEach(d => {
      const el = document.createElement('div');
      el.className = 'calendar-day-name';
      el.textContent = d;
      calendarGridEl.appendChild(el);
    });

    const firstDay = new Date(year, month, 1).getDay();
    for (let i = 0; i < firstDay; i++) {
      const empty = document.createElement('div');
      empty.className = 'calendar-day day-empty';
      calendarGridEl.appendChild(empty);
    }

    const daysInMonth = new Date(year, month + 1, 0).getDate();

    let nextPeriod = null;
    if (userData.lastPeriodStart) {
      nextPeriod = new Date(userData.lastPeriodStart);
      nextPeriod.setDate(nextPeriod.getDate() + 28);
    }

    for (let d = 1; d <= daysInMonth; d++) {
      const thisDate = new Date(year, month, d);
      const dayCell = document.createElement('div');
      dayCell.className = 'calendar-day';
      dayCell.textContent = d;

      if (userData.lastPeriodStart) {
        const dayDiff = Math.floor((thisDate - userData.lastPeriodStart) / (1000 * 60 * 60 * 24)) + 1;

        // Flow days
        if (dayDiff >= 1 && dayDiff <= 5) {
          dayCell.classList.add('day-expected-flow');
        }
        // Ovulation window
        else if (dayDiff >= 10 && dayDiff <= 17) {
          dayCell.classList.add('day-ovulating');
        }

        // Next period day marker
        if (
          nextPeriod &&
          thisDate.getFullYear() === nextPeriod.getFullYear() &&
          thisDate.getMonth() === nextPeriod.getMonth() &&
          thisDate.getDate() === nextPeriod.getDate()
        ) {
          dayCell.classList.add('day-next-cycle');
        }

        // Last period start marker
        if (
          thisDate.getFullYear() === userData.lastPeriodStart.getFullYear() &&
          thisDate.getMonth() === userData.lastPeriodStart.getMonth() &&
          thisDate.getDate() === userData.lastPeriodStart.getDate()
        ) {
          dayCell.classList.add('day-last-period-start');
        }
      }

      dayCell.addEventListener('click', () => handleDayClick(thisDate, dayCell));
      calendarGridEl.appendChild(dayCell);
    }
  }

  // --- Simple AI Assistant (placeholder) ---
  askBtn.addEventListener('click', () => {
    const question = userInput.value.trim();
    if (!question) return;
    aiResponseArea.textContent = 'Thinking...';
    setTimeout(() => {
      aiResponseArea.textContent = 'AI says: Remember to track your cycle and listen to your body! üíñ';
      userInput.value = '';
    }, 700);
  });

  getTipBtn.addEventListener('click', () => {
    const tips = [
      'Drink plenty of water üíß',
      'Take a short walk üö∂‚Äç‚ôÄÔ∏è',
      'Do some gentle stretching üßò‚Äç‚ôÄÔ∏è',
      'Have some leafy greens ü•¨',
      'Rest and relax üòå'
    ];
    aiResponseArea.textContent = tips[Math.floor(Math.random() * tips.length)];
  });

  // --- Mood Tracker logic ---
  const compliments = {
    'Happy': "Your smile is contagious‚Äîkeep shining! ‚ú®",
    'Calm': "Your calm energy is a superpower. üåø",
    'Energetic': "You‚Äôre unstoppable‚Äîchannel that power! ‚ö°",
    'Tired': "Be gentle with yourself‚Äîrest is productive. üí§",
    'Cramps': "You‚Äôre strong. Warm tea, gentle stretches, and care for you. ü§ç",
    'Moody': "It‚Äôs okay to feel it all. You‚Äôre doing great. üå¶Ô∏è",
    'Stressed': "Pause. Breathe. You‚Äôve got this. One step at a time. ü´∂"
  };

  function renderMoodList() {
    moodList.innerHTML = '';
    moodLogs.slice(-10).reverse().forEach(entry => {
      const li = document.createElement('li');
      li.textContent = `${entry.date} ‚Äî ${entry.mood}${entry.note ? ' ‚Äî ' + entry.note : ''}`;
      moodList.appendChild(li);
    });
  }

  saveMoodBtn.addEventListener('click', () => {
    const mood = moodSelect.value;
    if (!mood) {
      moodCompliment.textContent = 'Please select a mood first üôÇ';
      return;
    }
    const note = moodNote.value.trim();
    const dateStr = new Date().toLocaleString();

    moodLogs.push({ mood, note, date: dateStr });
    renderMoodList();

    moodCompliment.textContent = compliments[mood] || 'You‚Äôre doing amazing. üíó';
    moodSelect.value = '';
    moodNote.value = '';
  });

  // Start on splash
  showScreen('splash-screen');
});
</script>

</body>
</html>
